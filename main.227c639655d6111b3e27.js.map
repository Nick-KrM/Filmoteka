{"version":3,"sources":["webpack:///./templates/onefilmCard.hbs","webpack:///./js/refs.js","webpack:///./js/addOnlineUser.js","webpack:///./js/defaultLoadLocal.js","webpack:///./js/classUser.js","webpack:///./js/toastrSetting.js","webpack:///./js/registration.js","webpack:///./js/logIn.js","webpack:///./js/modal-authorization.js","webpack:///./js/logOut.js","webpack:///./js/whatsOnPage.js","webpack:///./js/startFetch.js","webpack:///./js/clearPage.js","webpack:///./js/visibleFunc.js","webpack:///./js/searchFetch.js","webpack:///./js/genre_ids.js","webpack:///./js/renderManyCards.js","webpack:///./js/getGenres.js","webpack:///./js/fetchSettings.js","webpack:///./js/handlePagination.js","webpack:///./js/makeDisabled.js","webpack:///./js/renderWithTimeout.js","webpack:///./js/paginationLogic.js","webpack:///./js/refs-buttons.js","webpack:///./js/getLocal.js","webpack:///./js/allLocalData.js","webpack:///./js/visibilityCloseBtnAndPag.js","webpack:///./js/backTo.js","webpack:///./js/firstLoad.js","webpack:///./js/gallerySearch.js","webpack:///./js/btnAddDicabled.js","webpack:///./js/functionsAddedToLib.js","webpack:///./js/checksAnotherArr.js","webpack:///./js/renderSingleCard.js","webpack:///./js/top-button-functions.js","webpack:///./js/removeFilm.js","webpack:///./js/oneCardFetch.js","webpack:///./js/top-buttons.js","webpack:///./templates/tempCard.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","program","noop","refs","activeMenu","document","querySelector","logOutBtn","form","listFilms","nextPage","errorWrong","errorNull","spinnerLoader","pagination","backBtn","libraryBtn","btnsContainer","watchedBtn","addOnlineUser","userName","btnAuthorisationLogin","regBlock","userNameOnPage","classList","remove","add","textContent","users","userId","userPass","isOnline","lib","watched","results","queue","localStorage","setItem","getItem","JSON","parse","forEach","el","stringify","error","console","log","User","this","toastr","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","registration","event","preventDefault","haveUser","localStorageData","value","toLowerCase","find","elem","notification","user","uuidv4","push","logIn","testBox","basicLightbox","create","onShow","element","close","show","addEventListener","updateIsOnline","map","item","window","location","reload","whatsOnPage","api_key","startFetch","pageNumber","axios","then","catch","clearPage","innerHTML","doVisible","doNotVisible","searchFetch","inputValue","id","name","renderCard","filmsList","customList","arrIds","poster_path","genre_ids","Array","isArray","genre_names","join","genres","length","release_date","undefined","substr","insertAdjacentHTML","tempCard","fetchSettings","fetchType","totalPages","handlePagination","currentPageNum","Number","currentTarget","target","targetNum","total_pages","renderWithTimeout","contains","changeNumPage","handleSearchPagination","sign","num","makeDisabled","setAttribute","currentPage","page","setTimeout","totalPage","Pagination","code","Extend","size","step","Add","s","f","i","Last","First","Click","Start","Prev","Next","Bind","a","e","getElementsByTagName","className","Finish","Buttons","nav","Create","Init","matchMedia","matches","init","setting","getElementById","paginationLogic","paginatRef","removeEventListener","homeBg","libBg","logoHome","home","myLibrary","myWatched","myQueue","searchBox","linkLib","linkHome","sectionBg","getLocal","key","allLocalData","whoOnline","localUsers","visibilityCloseBtnAndPag","querySelectorAll","loadBgLib","refsButtons","allData","userData","whichLib","elements","search","btnAddDicabledWatched","elUser","btnW","oneCardObj","getAttribute","btnAddDicabledQueue","btnQ","addNowWatched","addNowQueue","addToWatched","userElement","elemenOfArr","removeAttribute","idx","indexOf","splice","checksAnotherArrForWatched","addToQueue","checksAnotherArrForQueue","addToLocal","getObjOnlineUser","arrData","ClickW","allLocal","xId","dataset","deleteElWatched","String","deleteElQueue","parentElement","removeFilm","nodeName","baseUrl","obj","refsButton","onefilmCard","buttonFn"],"mappings":"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","file":"main.227c639655d6111b3e27.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \" \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"onefilm-card\\\">\\r\\n    <img class=\\\"onefilm-cover\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":36},\"end\":{\"line\":2,\"column\":51}}}) : helper)))\n    + \"\\\" alt=\\\"film-cover\\\" />\\r\\n    <div class=\\\"onefilm-info-wrapper\\\">\\r\\n        <h3 class=\\\"onefilm-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":33},\"end\":{\"line\":4,\"column\":51}}}) : helper)))\n    + \"</h3>\\r\\n        <div class=\\\"onefilm__rating\\\">\\r\\n            <div class=\\\"rating__titles\\\">\\r\\n                <p class=\\\"rating__title\\\">Vota / Votes</p>\\r\\n                <p class=\\\"rating__title\\\">Popularity</p>\\r\\n                <p class=\\\"rating__title\\\">Original Title</p>\\r\\n                <p class=\\\"rating__title\\\">Genre</p>\\r\\n            </div>\\r\\n            <div class=\\\"rating__values\\\">\\r\\n                <p class=\\\"rating__value\\\">\\r\\n                    <span class=\\\"film-rating onefilm-rating\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":61},\"end\":{\"line\":14,\"column\":77}}}) : helper)))\n    + \"</span> / \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_count\") || (depth0 != null ? lookupProperty(depth0,\"vote_count\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_count\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":87},\"end\":{\"line\":14,\"column\":101}}}) : helper)))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"rating__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"popularity\") || (depth0 != null ? lookupProperty(depth0,\"popularity\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"popularity\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":41},\"end\":{\"line\":16,\"column\":55}}}) : helper)))\n    + \"</p>\\r\\n                <p class=\\\"rating__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":41},\"end\":{\"line\":17,\"column\":59}}}) : helper)))\n    + \"</p>\\r\\n\\r\\n                <p class=\\\"rating__value\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"genres\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":41},\"end\":{\"line\":19,\"column\":80}}})) != null ? stack1 : \"\")\n    + \"</p>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"onefilm__about\\\">\\r\\n            <h4>About</h4>\\r\\n            <p>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"overview\") || (depth0 != null ? lookupProperty(depth0,\"overview\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"overview\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":15},\"end\":{\"line\":24,\"column\":27}}}) : helper)))\n    + \"</p>\\r\\n        </div>\\r\\n        <div class=\\\"buttons__block\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":45},\"end\":{\"line\":26,\"column\":51}}}) : helper)))\n    + \"\\\">\\r\\n            <button class=\\\"onefilm__btn add_watched\\\">Add to watched</button>\\r\\n            <button class=\\\"onefilm__btn add_queue\\\">Add to queue</button>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","const refs = {\r\n  activeMenu: document.querySelector('.active-menu'),\r\n  logOutBtn: document.querySelector('.btn-logout'),\r\n  form: document.querySelector('.search-block'),\r\n  listFilms: document.querySelector('.films-list'),\r\n  nextPage: document.querySelector('.start-next-page'),\r\n  errorWrong: document.querySelector('.search-wrong'),\r\n  errorNull: document.querySelector('.search-null'),\r\n  spinnerLoader: document.querySelector('.cssload-dots'),\r\n  pagination: document.querySelector('#pagination'),\r\n  backBtn: document.querySelector('.back-btn'),\r\n\r\n  //for library\r\n  libraryBtn: document.querySelector('.library-button'),\r\n  btnsContainer: document.querySelector('.btn-container'),\r\n  watchedBtn: document.querySelector('.watched-button'),\r\n};\r\n\r\nexport default refs;\r\n","import refs from './refs';\r\n\r\nexport default function addOnlineUser(userName) {\r\n  const btnAuthorisationLogin = document.querySelector('.wrapper-btn');\r\n  const regBlock = document.querySelector('.authorization-block__data');\r\n  const userNameOnPage = document.querySelector('.username');\r\n  refs.libraryBtn.classList.remove('not-visible');\r\n\r\n  btnAuthorisationLogin.classList.remove('isonline-active');\r\n  regBlock.classList.add('isonline-active');\r\n  userNameOnPage.textContent = userName;\r\n}\r\n","import addOnlineUser from './addOnlineUser';\r\n\r\nexport let users = [\r\n  {\r\n    userId: 0,\r\n    userName: 'admin',\r\n    userPass: 'admin',\r\n    isOnline: false,\r\n    lib: {\r\n      watched: { results: [] },\r\n      queue: { results: [] },\r\n    },\r\n  },\r\n];\r\n\r\ntry {\r\n  localStorage.setItem('isOnline', 'no one is online');\r\n\r\n  if (!localStorage.getItem('users')) {\r\n    localStorage.setItem('users', JSON.stringify(users));\r\n  } else {\r\n    users = [...JSON.parse(localStorage.getItem('users'))];\r\n\r\n    users.forEach(el => {\r\n      if (el.isOnline === true) {\r\n        el.userName;\r\n        localStorage.setItem('isOnline', el.userName);\r\n        addOnlineUser(el.userName);\r\n      }\r\n    });\r\n  }\r\n} catch (error) {\r\n  console.log('Что-то пошло не так', error);\r\n}\r\n","class User {\r\n  constructor(userId, userName, userPass, isOnline) {\r\n    this.userId = userId;\r\n    this.userName = userName;\r\n    this.userPass = userPass;\r\n    this.isOnline = isOnline;\r\n    this.lib = {\r\n      watched: { results: [] },\r\n      queue: { results: [] },\r\n    };\r\n  }\r\n}\r\n\r\nexport default User;\r\n","import toastr from 'toastr';\r\n\r\nexport const notification = (toastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: false,\r\n  progressBar: true,\r\n  positionClass: 'toast-top-center',\r\n  preventDuplicates: false,\r\n  onclick: null,\r\n  showDuration: '300',\r\n  hideDuration: '1000',\r\n  timeOut: '1500',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n});\r\n","import User from './classUser';\r\nimport addOnlineUser from './addOnlineUser';\r\nimport { users } from './defaultLoadLocal';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport notification from 'toastr';\r\nimport './toastrSetting';\r\nimport 'toastr/build/toastr.css';\r\n\r\nexport default function registration(event) {\r\n  event.preventDefault();\r\n\r\n  const localStorageData = JSON.parse(localStorage.getItem('users'));\r\n  let userName = document.querySelector('.login-block__user-name').value;\r\n  const userPass = document.querySelector('.login-block__password').value;\r\n  let haveUser;\r\n\r\n  userName = userName.toLowerCase();\r\n\r\n  localStorageData.find(elem => {\r\n    if (elem.userName === userName) {\r\n      notification['info']('Come up with another name', 'This name is used');\r\n\r\n      haveUser = elem.userName === userName;\r\n      return haveUser;\r\n    }\r\n  });\r\n\r\n  if (!haveUser) {\r\n    const user = new User(uuidv4(), userName, userPass, true);\r\n\r\n    users.push(user);\r\n\r\n    localStorage.setItem('users', JSON.stringify(users));\r\n    localStorage.setItem('isOnline', userName);\r\n\r\n    addOnlineUser(userName);\r\n\r\n    notification['success']('', 'Are you registered');\r\n  }\r\n}\r\n","import addOnlineUser from './addOnlineUser';\r\nimport notification from 'toastr';\r\n\r\nexport default function logIn() {\r\n  event.preventDefault();\r\n\r\n  const localStorageData = JSON.parse(localStorage.getItem('users'));\r\n  let userName = document.querySelector('.login-block__user-name').value;\r\n  const userPass = document.querySelector('.login-block__password').value;\r\n\r\n  userName = userName.toLowerCase();\r\n\r\n  const haveUser = localStorageData.find(el => {\r\n    if (userName === el.userName && userPass === el.userPass) {\r\n      addOnlineUser(userName);\r\n      el.isOnline = true;\r\n\r\n      localStorage.setItem('users', JSON.stringify(localStorageData));\r\n      localStorage.setItem('isOnline', userName);\r\n\r\n      notification['success']('You entered', `Hello, ${userName}`);\r\n\r\n      return true;\r\n    } else if (userName === el.userName || userPass === el.userPass) {\r\n      notification['error']('Wrong login or password', 'Error');\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  });\r\n\r\n  if (!haveUser) {\r\n    notification['error']('Wrong login or password', 'Error');\r\n  }\r\n}\r\n","import * as basicLightbox from 'basiclightbox';\r\nimport 'basiclightbox/src/styles/main.scss';\r\nimport registration from './registration';\r\nimport logIn from './logIn';\r\n\r\nconst testBox = basicLightbox;\r\n\r\n//  registration form\r\ndocument.querySelector('.btn-reg').onclick = () => {\r\n  testBox\r\n    .create(\r\n      `\r\n      <form class=\"login-block\">\r\n      <h2 class=\"login-block__title\">Registration</h2>\r\n      <input\r\n        class=\"login-block__user-name\"\r\n        type=\"text\"\r\n        placeholder=\"Enter your name...\"\r\n        required\r\n\r\n      />\r\n      <input\r\n        class=\"login-block__password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter your password...\"\r\n        required\r\n      />\r\n      <div class=\"login-block__btn-block\">\r\n        <button class=\"login-block__registration btn-default\">\r\n          Registration\r\n        </button>\r\n      </div>\r\n    </form>\r\n  `,\r\n      {\r\n        onShow: testBox => {\r\n          testBox\r\n            .element()\r\n            .querySelector('.login-block__registration').onclick =\r\n            testBox.close;\r\n        },\r\n      },\r\n    )\r\n    .show();\r\n\r\n  document\r\n    .querySelector('.login-block')\r\n    .addEventListener('submit', registration);\r\n};\r\n\r\n//  LOG IN form\r\ndocument.querySelector('.btn-login').onclick = () => {\r\n  testBox\r\n    .create(\r\n      `\r\n      <form class=\"login-block\">\r\n      <h2 class=\"login-block__title\">Log In</h2>\r\n      <input\r\n        class=\"login-block__user-name\"\r\n        type=\"text\"\r\n        placeholder=\"Enter your name...\"\r\n        required\r\n        \r\n      />\r\n      <input\r\n        class=\"login-block__password\"\r\n        type=\"password\"\r\n        placeholder=\"Enter your password...\"\r\n        required\r\n      />\r\n      <div class=\"login-block__btn-block\">\r\n        <button class=\"login-block__log-in btn-default\">\r\n          Log In\r\n        </button>\r\n      </div>\r\n    </form>\r\n  `,\r\n      {\r\n        onShow: testBox => {\r\n          testBox.element().querySelector('.login-block__log-in').onclick =\r\n            testBox.close;\r\n        },\r\n      },\r\n    )\r\n    .show();\r\n\r\n  document.querySelector('.login-block').addEventListener('submit', logIn);\r\n};\r\n","document.querySelector('.btn-logout').addEventListener('click', logOut);\r\n\r\nfunction logOut() {\r\n  const localStorageData = JSON.parse(localStorage.getItem('users'));\r\n  const btnAuthorisationLogin = document.querySelector('.wrapper-btn');\r\n  const regBlock = document.querySelector('.authorization-block__data');\r\n\r\n  const updateIsOnline = localStorageData.map(item => {\r\n    if (item.isOnline) {\r\n      btnAuthorisationLogin.classList.add('isonline-active');\r\n      regBlock.classList.remove('isonline-active');\r\n\r\n      item.isOnline = false;\r\n\r\n      return item;\r\n    }\r\n\r\n    return item;\r\n  });\r\n\r\n  localStorage.setItem('users', JSON.stringify(updateIsOnline));\r\n  localStorage.setItem('isOnline', 'no one is online');\r\n\r\n  window.location.reload();\r\n}\r\n","const whatsOnPage = {\r\n  data: '',\r\n};\r\n\r\nexport default whatsOnPage;\r\n","import axios from 'axios';\r\n// import { pageNumber } from './searchFetch';\r\nimport refs from './refs';\r\nimport whatsOnPage from './whatsOnPage';\r\n\r\nexport const api_key = 'cc24e28d216ef164940b9fd9893ff62a';\r\n\r\nexport function startFetch(pageNumber = 1) {\r\n  refs.spinnerLoader.classList.remove('not-visible');\r\n\r\n  return axios(\r\n    `https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=${api_key}&page=${pageNumber}`,\r\n  )\r\n    .then(data => {\r\n      refs.spinnerLoader.classList.add('not-visible');\r\n\r\n      whatsOnPage.data = data.data;\r\n\r\n      return data.data;\r\n    })\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n","import refs from './refs';\r\n\r\nexport default function clearPage() {\r\n  refs.listFilms.innerHTML = '';\r\n}\r\n","function doVisible(item) {\r\n  item.classList.add('error-visible');\r\n}\r\n\r\nfunction doNotVisible(item) {\r\n  item.classList.remove('error-visible');\r\n}\r\n\r\nexport { doNotVisible, doVisible };\r\n","import axios from 'axios';\r\nimport { api_key } from './startFetch';\r\nimport whatsOnPage from './whatsOnPage';\r\n\r\nexport function searchFetch(inputValue, pageNumber = 1) {\r\n  return axios(\r\n    `https://api.themoviedb.org/3/search/movie?api_key=${api_key}&query=${inputValue}&page=${pageNumber}`,\r\n  )\r\n    .then(data => {\r\n      whatsOnPage.data = data.data;\r\n\r\n      return data.data;\r\n    })\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n","export default [\r\n  { id: 28, name: 'Action' },\r\n  { id: 12, name: 'Adventure' },\r\n  { id: 16, name: 'Animation' },\r\n  { id: 35, name: 'Comedy' },\r\n  { id: 80, name: 'Crime' },\r\n  { id: 99, name: 'Documentary' },\r\n  { id: 18, name: 'Drama' },\r\n  { id: 10751, name: 'Family' },\r\n  { id: 14, name: 'Fantasy' },\r\n  { id: 36, name: 'History' },\r\n  { id: 27, name: 'Horror' },\r\n  { id: 10402, name: 'Music' },\r\n  { id: 9648, name: 'Mystery' },\r\n  { id: 10749, name: 'Romance' },\r\n  { id: 878, name: 'Science Fiction' },\r\n  { id: 10770, name: 'TV Movie' },\r\n  { id: 53, name: 'Thriller' },\r\n  { id: 10752, name: 'War' },\r\n  { id: 37, name: 'Western' },\r\n];\r\n","import refs from './refs';\r\nimport tempCard from '../templates/tempCard.hbs';\r\nimport whatsOnPage from './whatsOnPage';\r\nimport getGenreNames from './getGenres';\r\n\r\n// get custom array films after fetch\r\nexport default function renderCard(filmsList) {\r\n  const customList = filmsList.map(elem => {\r\n    //for no img\r\n    if (elem.poster_path === null) {\r\n      elem.poster_path =\r\n        'https://www.indulgemassager.com/assets/frontend/indulge/images/no-profile-pic.jpg';\r\n    } else {\r\n      if (elem.poster_path[0] === '/') {\r\n        elem.poster_path = `https://image.tmdb.org/t/p/w500${elem.poster_path}`;\r\n      } else {\r\n        elem.poster_path = elem.poster_path;\r\n      }\r\n    }\r\n\r\n    //for no genre\r\n    if (elem.genre_ids == '' || elem.genre_ids === 'no genres') {\r\n      elem.genre_ids = 'no genres';\r\n    } else {\r\n      // new rules for single card render\r\n      if (elem.genre_ids) {\r\n        if (Array.isArray(elem.genre_ids)) {\r\n          elem.genre_ids = getGenreNames(elem.genre_ids).join(' ');\r\n        }\r\n      } else if (elem.genres) {\r\n        if (elem.genres.length === 0) {\r\n          elem.genre_ids = 'no genres';\r\n        } else {\r\n          elem.genre_ids = elem.genres.map(el => el.name).join(' ');\r\n        }\r\n      }\r\n    }\r\n\r\n    // for no year\r\n    if (elem.release_date == '' || elem.release_date === undefined) {\r\n      elem.release_date = 'no info';\r\n    } else {\r\n      elem.release_date = elem.release_date.substr(0, 4);\r\n    }\r\n\r\n    return elem;\r\n  });\r\n\r\n  refs.listFilms.insertAdjacentHTML('beforeend', tempCard(customList));\r\n}\r\n","import genre_names from './genre_ids';\r\n\r\nexport default function getGenreNames(arrIds) {\r\n  const findId = arrIds.map(id => {\r\n    return genre_names.find(el => {\r\n      if (el.id === id) {\r\n        return el.name;\r\n      }\r\n    });\r\n  });\r\n\r\n  const getName = findId.map(elem => {\r\n    return elem.name;\r\n  });\r\n\r\n  return getName;\r\n}\r\n","let fetchSettings = {\r\n  inputValue: '',\r\n  fetchType: 'start',\r\n  totalPages: 0,\r\n};\r\n\r\nexport default fetchSettings;\r\n","import { searchFetch } from './searchFetch';\r\nimport { startFetch } from './startFetch';\r\nimport clearPage from './clearPage';\r\n\r\nimport fetchSettings from './fetchSettings';\r\nimport renderWithTimeout from './renderWithTimeout';\r\n\r\nfunction handlePagination(event) {\r\n  const currentPageNum = Number(\r\n    event.currentTarget.querySelector('.current').textContent,\r\n  );\r\n\r\n  if (event.target.textContent !== '') {\r\n    const targetNum = event.target.textContent;\r\n\r\n    startFetch(targetNum).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      clearPage();\r\n      renderWithTimeout(data, Number(targetNum));\r\n    });\r\n  } else if (event.target.classList.contains('arrow-left')) {\r\n    startFetch(changeNumPage('minus', currentPageNum)).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      clearPage();\r\n      renderWithTimeout(data, currentPageNum);\r\n    });\r\n  } else if (event.target.classList.contains('arrow-right')) {\r\n    startFetch(changeNumPage('plus', currentPageNum)).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      clearPage();\r\n      renderWithTimeout(data, currentPageNum);\r\n    });\r\n  }\r\n}\r\n\r\nfunction handleSearchPagination(event) {\r\n  const currentPageNum = Number(\r\n    event.currentTarget.querySelector('.current').textContent,\r\n  );\r\n\r\n  if (event.target.textContent !== '') {\r\n    const targetNum = event.target.textContent;\r\n\r\n    searchFetch(fetchSettings.inputValue, targetNum).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      clearPage();\r\n      renderWithTimeout(data, Number(targetNum));\r\n    });\r\n  } else if (event.target.classList.contains('arrow-left')) {\r\n    searchFetch(\r\n      fetchSettings.inputValue,\r\n      changeNumPage('minus', currentPageNum),\r\n    ).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      fetchSettings.fetchType = 'search';\r\n      clearPage();\r\n      renderWithTimeout(data, currentPageNum);\r\n    });\r\n  } else if (event.target.classList.contains('arrow-right')) {\r\n    searchFetch(\r\n      fetchSettings.inputValue,\r\n      changeNumPage('plus', currentPageNum),\r\n    ).then(data => {\r\n      fetchSettings.totalPages = data.total_pages;\r\n      fetchSettings.fetchType = 'search';\r\n      clearPage();\r\n      renderWithTimeout(data, currentPageNum);\r\n    });\r\n  }\r\n}\r\n\r\nfunction changeNumPage(sign, num) {\r\n  if (num === 1) {\r\n    return;\r\n  } else if (sign === 'minus') {\r\n    return num;\r\n  } else if (sign === 'plus') {\r\n    return num;\r\n  }\r\n}\r\n\r\nexport { handlePagination, handleSearchPagination };\r\n","import fetchSettings from './fetchSettings';\r\n\r\nexport default function makeDisabled() {\r\n  const currentPageNum = Number(document.querySelector('.current').textContent);\r\n\r\n  if (currentPageNum === 1) {\r\n    document.querySelector('.arrow-left').setAttribute('disabled', 'true');\r\n  } else if (currentPageNum === fetchSettings.totalPages) {\r\n    document.querySelector('.arrow-right').setAttribute('disabled', 'true');\r\n  }\r\n}\r\n","import refs from './refs';\r\nimport renderCard from './renderManyCards';\r\nimport paginationLogic from './paginationLogic';\r\nimport fetchSettings from './fetchSettings';\r\nimport { handlePagination, handleSearchPagination } from './handlePagination';\r\nimport makeDisabled from './makeDisabled';\r\nimport whatsOnPage from './whatsOnPage';\r\n\r\nexport default function renderWithTimeout(data, currentPage) {\r\n  // timeout for spinner animation\r\n  refs.spinnerLoader.classList.remove('not-visible');\r\n\r\n  currentPage = whatsOnPage.data.page;\r\n\r\n  setTimeout(() => {\r\n    renderCard(data.results);\r\n    paginationLogic(data.total_pages, currentPage);\r\n\r\n    const paginatRef = document.querySelector('#pagination');\r\n\r\n    paginatRef.classList.remove('not-visible');\r\n\r\n    if (fetchSettings.fetchType === 'search') {\r\n      paginatRef.removeEventListener('click', handlePagination);\r\n      paginatRef.addEventListener('click', handleSearchPagination);\r\n\r\n      // rules for disabled arrows\r\n      makeDisabled();\r\n    } else if (fetchSettings.fetchType === 'start') {\r\n      paginatRef.removeEventListener('click', handleSearchPagination);\r\n      paginatRef.addEventListener('click', handlePagination);\r\n\r\n      // rules for disabled arrows\r\n      makeDisabled();\r\n    }\r\n\r\n    refs.spinnerLoader.classList.add('not-visible');\r\n  }, 1000);\r\n}\r\n","export default function paginationLogic(totalPage, currentPage = 1) {\r\n  /* * * * * * * * * * * * * * * * *\r\n   * Pagination\r\n   * javascript page navigation\r\n   * * * * * * * * * * * * * * * * */\r\n\r\n  var Pagination = {\r\n    code: '',\r\n\r\n    // --------------------\r\n    // Utility\r\n    // --------------------\r\n\r\n    // converting initialize data\r\n    Extend: function (data) {\r\n      data = data || {};\r\n      Pagination.size = data.size || 1000;\r\n      Pagination.page = data.page || 1;\r\n      Pagination.step = data.step || 2;\r\n    },\r\n\r\n    // add pages by number (from [s] to [f])\r\n    Add: function (s, f) {\r\n      for (var i = s; i < f; i++) {\r\n        Pagination.code += '<button>' + i + '</button>';\r\n      }\r\n    },\r\n\r\n    // add last page with separator\r\n    Last: function () {\r\n      Pagination.code += '<i>...</i><button>' + Pagination.size + '</button>';\r\n    },\r\n\r\n    // add first page with separator\r\n    First: function () {\r\n      Pagination.code += '<button>1</button><i>...</i>';\r\n    },\r\n\r\n    // --------------------\r\n    // Handlers\r\n    // --------------------\r\n\r\n    // change page\r\n    Click: function () {\r\n      Pagination.page = +this.innerHTML;\r\n      Pagination.Start();\r\n    },\r\n\r\n    // previous page\r\n    Prev: function () {\r\n      Pagination.page--;\r\n      if (Pagination.page < 1) {\r\n        Pagination.page = 1;\r\n      }\r\n      Pagination.Start();\r\n    },\r\n\r\n    // next page\r\n    Next: function () {\r\n      Pagination.page++;\r\n      if (Pagination.page > Pagination.size) {\r\n        Pagination.page = Pagination.size;\r\n      }\r\n      Pagination.Start();\r\n      //   refs.listFilms.textContent = '';\r\n    },\r\n\r\n    // --------------------\r\n    // Script\r\n    // --------------------\r\n\r\n    // binding pages\r\n    Bind: function () {\r\n      var a = Pagination.e.getElementsByTagName('button');\r\n      for (var i = 0; i < a.length; i++) {\r\n        if (+a[i].innerHTML === Pagination.page) a[i].className = 'current';\r\n        a[i].addEventListener('click', Pagination.Click, false);\r\n      }\r\n    },\r\n\r\n    // write pagination\r\n    Finish: function () {\r\n      Pagination.e.innerHTML = Pagination.code;\r\n      Pagination.code = '';\r\n      Pagination.Bind();\r\n    },\r\n\r\n    // find pagination type\r\n    Start: function () {\r\n      if (Pagination.size < Pagination.step * 2 + 6) {\r\n        Pagination.Add(1, Pagination.size + 1);\r\n      } else if (Pagination.page < Pagination.step * 2 + 1) {\r\n        Pagination.Add(1, Pagination.step * 2 + 4);\r\n        Pagination.Last();\r\n      } else if (Pagination.page > Pagination.size - Pagination.step * 2) {\r\n        Pagination.First();\r\n        Pagination.Add(\r\n          Pagination.size - Pagination.step * 2 - 2,\r\n          Pagination.size + 1,\r\n        );\r\n      } else {\r\n        Pagination.First();\r\n        Pagination.Add(\r\n          Pagination.page - Pagination.step,\r\n          Pagination.page + Pagination.step + 1,\r\n        );\r\n        Pagination.Last();\r\n      }\r\n      Pagination.Finish();\r\n    },\r\n\r\n    // --------------------\r\n    // Initialization\r\n    // --------------------\r\n\r\n    // binding buttons\r\n    Buttons: function (e) {\r\n      var nav = e.getElementsByTagName('button');\r\n      nav[0].addEventListener('click', Pagination.Prev, false);\r\n      nav[1].addEventListener('click', Pagination.Next, false);\r\n    },\r\n\r\n    // create skeleton\r\n    Create: function (e) {\r\n      var html = [\r\n        '<button id=\"prev-btn\" class=\"start-prev-page arrow arrow-left\"></button>', // previous button\r\n        '<span class=\"pag-number\"></span>', // pagination container\r\n        '<button id=\"next-btn\" class=\"start-next-page arrow arrow-right\"></button>', // next button\r\n      ];\r\n\r\n      e.innerHTML = html.join('');\r\n      Pagination.e = e.getElementsByTagName('span')[0];\r\n      Pagination.Buttons(e);\r\n    },\r\n\r\n    // init\r\n    Init: function (e, data) {\r\n      Pagination.Extend(data);\r\n      Pagination.Create(e);\r\n      Pagination.Start();\r\n    },\r\n  };\r\n\r\n  // const totalPages = data.data.pages\r\n\r\n  /* * * * * * * * * * * * * * * * *\r\n   * Initialization\r\n   * * * * * * * * * * * * * * * * */\r\n\r\n  if (window.matchMedia('(max-width: 479px)').matches) {\r\n    var init = function () {\r\n      const setting = {\r\n        size: totalPage, // pages size\r\n        page: currentPage, // selected page\r\n        step: 1, // pages before and after current\r\n      };\r\n      Pagination.Init(document.getElementById('pagination'), setting);\r\n    };\r\n  } else if (window.matchMedia('(min-width: 480px)').matches) {\r\n    var init = function () {\r\n      const setting = {\r\n        size: totalPage, // pages size\r\n        page: currentPage, // selected page\r\n        step: 2, // pages before and after current\r\n      };\r\n      Pagination.Init(document.getElementById('pagination'), setting);\r\n    };\r\n  }\r\n\r\n  if (window.matchMedia('(min-width: 1024px)').matches) {\r\n    var init = function () {\r\n      const setting = {\r\n        size: totalPage, // pages size\r\n        page: currentPage, // selected page\r\n        step: 3, // pages before and after current\r\n      };\r\n      Pagination.Init(document.getElementById('pagination'), setting);\r\n    };\r\n  }\r\n  document.addEventListener('DOMContentLoaded', init(), false);\r\n}\r\n","export default {\r\n  homeBg: document.querySelector('.section-top'),\r\n  libBg: document.querySelector('.section-top-lib'),\r\n  logoHome: document.querySelector('.logo-home'),\r\n  home: document.querySelector('.home'),\r\n  myLibrary: document.querySelector('.library-button'),\r\n  myWatched: document.querySelector('.watched-button'),\r\n  myQueue: document.querySelector('.queue-button'),\r\n  searchBox: document.querySelector('.search-block'),\r\n  error: document.querySelector('.error-search'),\r\n  linkLib: document.querySelector('.library-button a'),\r\n  linkHome: document.querySelector('.home a'),\r\n  sectionBg: document.querySelector('.head-background'),\r\n};\r\n","export default function getLocal(key) {\r\n  return JSON.parse(localStorage.getItem(key));\r\n}\r\n","import getLocal from './getLocal';\r\n\r\nexport default function allLocalData() {\r\n  return {\r\n    whoOnline: localStorage.getItem('isOnline'),\r\n    localUsers: getLocal('users'),\r\n  };\r\n}\r\n","//! added visible close btn ( for film-card)\r\n//! added not-visible pagination in My-Library\r\nexport default function visibilityCloseBtnAndPag() {\r\n  setTimeout(() => {\r\n    if (document.querySelector('.close-btn')) {\r\n      const allCloseBtnArr = document.querySelectorAll('.close-btn');\r\n\r\n      allCloseBtnArr.forEach(el => {\r\n        el.classList.remove('not-visible');\r\n      });\r\n    }\r\n\r\n    document.querySelector('#pagination').classList.add('not-visible');\r\n  }, 1005);\r\n}\r\n","import refs from './refs';\r\nimport refsButtons from './refs-buttons';\r\nimport whatsOnPage from './whatsOnPage';\r\nimport renderWithTimeout from './renderWithTimeout';\r\nimport clearPage from './clearPage';\r\nimport allLocalData from './allLocalData';\r\nimport visibilityCloseBtnAndPag from './visibilityCloseBtnAndPag';\r\n\r\nfunction checkLib() {\r\n  if (refsButtons.myWatched.classList.contains('active')) {\r\n    return true;\r\n  } else if (refsButtons.myQueue.classList.contains('active')) {\r\n    return false;\r\n  }\r\n}\r\n\r\n//! back button\r\nexport default function backTo() {\r\n  const allData = allLocalData();\r\n  const whoOnline = allData.whoOnline;\r\n  const userData = allData.localUsers.find(user => {\r\n    if (user.userName === whoOnline) {\r\n      return user;\r\n    }\r\n  });\r\n\r\n  refs.backBtn.classList.add('not-visible');\r\n\r\n  clearPage();\r\n\r\n  //? true = watched // false = queue\r\n  const whichLib = checkLib();\r\n\r\n  //? render by selected Library\r\n  //? if it is not selected then simple render\r\n  if (!refsButtons.myWatched.classList.contains('visually-hidden')) {\r\n    if (whichLib) {\r\n      loadBgLib();\r\n      renderWithTimeout(userData.lib.watched);\r\n      visibilityCloseBtnAndPag();\r\n    } else if (!whichLib) {\r\n      loadBgLib();\r\n      renderWithTimeout(userData.lib.queue);\r\n      visibilityCloseBtnAndPag();\r\n    }\r\n  } else {\r\n    loadBgHome();\r\n    renderWithTimeout(whatsOnPage.data);\r\n  }\r\n}\r\n\r\nfunction loadBgLib() {\r\n  refsButtons.homeBg.classList.remove('section-top-details');\r\n  refsButtons.homeBg.classList.add('section-top-lib');\r\n}\r\n\r\nfunction loadBgHome() {\r\n  refsButtons.homeBg.classList.remove('section-top-details');\r\n  refsButtons.homeBg.classList.add('section-top');\r\n}\r\n","import refs from './refs';\r\nimport { startFetch } from './startFetch';\r\nimport gallerySearch from './gallerySearch';\r\nimport fetchSettings from './fetchSettings';\r\nimport renderWithTimeout from './renderWithTimeout';\r\nimport whatsOnPage from './whatsOnPage';\r\nimport backTo from './backTo';\r\n\r\nrefs.backBtn.addEventListener('click', backTo);\r\n\r\n// on submit\r\nrefs.form.addEventListener('submit', gallerySearch);\r\n\r\n//  loading first page - popular films\r\nstartFetch().then(data => {\r\n  fetchSettings.totalPages = data.total_pages;\r\n  fetchSettings.fetchType = 'start';\r\n\r\n  renderWithTimeout(data);\r\n});\r\n","import refs from './refs';\r\nimport clearPage from './clearPage';\r\nimport { doNotVisible, doVisible } from './visibleFunc';\r\nimport { searchFetch } from './searchFetch';\r\nimport renderWithTimeout from './renderWithTimeout';\r\nimport fetchSettings from './fetchSettings';\r\nimport whatsOnPage from './whatsOnPage';\r\n\r\nexport default function gallerySearch(event) {\r\n  event.preventDefault();\r\n\r\n  refs.activeMenu.classList.remove('active-menu');\r\n\r\n  clearPage();\r\n\r\n  // visible input value error\r\n  if (event.currentTarget.elements.search.value === '') {\r\n    doNotVisible(refs.errorWrong);\r\n    doVisible(refs.errorNull);\r\n\r\n    document.querySelector('#pagination').classList.add('not-visible');\r\n  } else {\r\n    doNotVisible(refs.errorNull);\r\n    fetchSettings.inputValue = event.currentTarget.elements.search.value;\r\n\r\n    searchFetch(fetchSettings.inputValue).then(data => {\r\n      // not visible for back btn\r\n      refs.backBtn.classList.add('not-visible');\r\n\r\n      fetchSettings.totalPages = data.total_pages;\r\n      fetchSettings.fetchType = 'search';\r\n\r\n      if (data.results.length === 0) {\r\n        document.querySelector('#pagination').classList.add('not-visible');\r\n\r\n        doVisible(refs.errorWrong);\r\n      } else {\r\n        doNotVisible(refs.errorWrong);\r\n        document.querySelector('#pagination').classList.add('not-visible');\r\n\r\n        // timeout for spinner animation\r\n        renderWithTimeout(data);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { oneCardObj } from './renderSingleCard';\r\nimport getLocal from './getLocal';\r\n\r\nexport function btnAddDicabledWatched() {\r\n  const whoOnline = localStorage.getItem('isOnline');\r\n  const allUsers = getLocal('users');\r\n\r\n  const elUser = allUsers.find(el => {\r\n    if (el.userName === whoOnline) {\r\n      return el;\r\n    }\r\n  });\r\n\r\n  const btnW = document.querySelector('.add_watched');\r\n\r\n  if (whoOnline === 'no one is online') {\r\n    return;\r\n  } else {\r\n    elUser.lib.watched.results.find(el => {\r\n      if (el.id === oneCardObj.id) {\r\n        btnW.classList.add('active');\r\n        btnW.setAttribute('disabled', true);\r\n      }\r\n    });\r\n\r\n    if (btnW.getAttribute('disabled')) {\r\n      btnW.textContent = 'Added in Watched';\r\n    }\r\n  }\r\n}\r\n\r\nexport function btnAddDicabledQueue() {\r\n  const whoOnline = localStorage.getItem('isOnline');\r\n  const allUsers = getLocal('users');\r\n\r\n  const elUser = allUsers.find(el => {\r\n    if (el.userName === whoOnline) {\r\n      return el;\r\n    }\r\n  });\r\n\r\n  const btnQ = document.querySelector('.add_queue');\r\n\r\n  if (whoOnline === 'no one is online') {\r\n    return;\r\n  } else {\r\n    elUser.lib.queue.results.find(el => {\r\n      if (el.id === oneCardObj.id) {\r\n        btnQ.classList.add('active');\r\n        btnQ.setAttribute('disabled', true);\r\n      }\r\n    });\r\n\r\n    if (btnQ.getAttribute('disabled')) {\r\n      btnQ.textContent = 'Added in Queue';\r\n    }\r\n  }\r\n}\r\n\r\n// -------------------------------- added now\r\nexport function addNowWatched() {\r\n  const btnW = document.querySelector('.add_watched');\r\n\r\n  btnW.classList.add('active');\r\n  btnW.setAttribute('disabled', true);\r\n\r\n  if (btnW.getAttribute('disabled')) {\r\n    btnW.textContent = 'Added in Watched';\r\n  }\r\n}\r\n\r\n// -------------------------------- added now\r\nexport function addNowQueue() {\r\n  const btnW = document.querySelector('.add_queue');\r\n\r\n  btnW.classList.add('active');\r\n  btnW.setAttribute('disabled', true);\r\n\r\n  if (btnW.getAttribute('disabled')) {\r\n    btnW.textContent = 'Added in Queue';\r\n  }\r\n}\r\n","import notification from 'toastr';\r\nimport { oneCardObj } from './renderSingleCard';\r\nimport {\r\n  btnAddDicabledWatched,\r\n  btnAddDicabledQueue,\r\n  addNowWatched,\r\n  addNowQueue,\r\n} from './btnAddDicabled';\r\nimport {\r\n  checksAnotherArrForWatched,\r\n  checksAnotherArrForQueue,\r\n} from './checksAnotherArr';\r\n\r\n// watched\r\n// ==================\r\nexport function addToWatched(whoOnline, localUsers) {\r\n  if (event.target.classList.contains('add_watched')) {\r\n    const userElement = localUsers.find(el => {\r\n      if (el.userName === whoOnline) {\r\n        return el;\r\n      }\r\n    });\r\n\r\n    checksAnotherArrForWatched(userElement, oneCardObj, localUsers);\r\n\r\n    if (userElement.lib.watched.results.length === 0) {\r\n      userElement.lib.watched.results.push(oneCardObj);\r\n\r\n      btnAddDicabledWatched();\r\n      addNowWatched();\r\n\r\n      localStorage.setItem('users', JSON.stringify(localUsers));\r\n\r\n      notification['success']('You added a movie to Watched', 'Great');\r\n    } else {\r\n      const isFilm = userElement.lib.watched.results.find(el => {\r\n        if (el.id === oneCardObj.id) {\r\n          return true;\r\n        }\r\n      });\r\n\r\n      if (!isFilm) {\r\n        userElement.lib.watched.results.push(oneCardObj);\r\n\r\n        btnAddDicabledWatched();\r\n        addNowWatched();\r\n\r\n        localStorage.setItem('users', JSON.stringify(localUsers));\r\n\r\n        notification['success']('Great', 'You added a movie to Watched');\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// queue\r\n// ==================\r\nexport function addToQueue(whoOnline, localUsers) {\r\n  if (event.target.classList.contains('add_queue')) {\r\n    const userElement = localUsers.find(el => {\r\n      if (el.userName === whoOnline) {\r\n        return el;\r\n      }\r\n    });\r\n\r\n    checksAnotherArrForQueue(userElement, oneCardObj, localUsers);\r\n\r\n    if (userElement.lib.queue.results.length === 0) {\r\n      userElement.lib.queue.results.push(oneCardObj);\r\n\r\n      btnAddDicabledQueue();\r\n      addNowQueue();\r\n\r\n      localStorage.setItem('users', JSON.stringify(localUsers));\r\n\r\n      notification['success']('You added a movie to Queue', 'Great');\r\n    } else {\r\n      const isFilm = userElement.lib.queue.results.find(el => {\r\n        if (el.id === oneCardObj.id) {\r\n          return true;\r\n        }\r\n      });\r\n\r\n      if (!isFilm) {\r\n        userElement.lib.queue.results.push(oneCardObj);\r\n\r\n        btnAddDicabledQueue();\r\n        addNowQueue();\r\n\r\n        localStorage.setItem('users', JSON.stringify(localUsers));\r\n\r\n        notification['success']('Great', 'You added a movie to Queue');\r\n      }\r\n    }\r\n  }\r\n}\r\n","import notification from 'toastr';\r\nimport {\r\n  btnAddDicabledWatched,\r\n  btnAddDicabledQueue,\r\n  addNowWatched,\r\n  addNowQueue,\r\n} from './btnAddDicabled';\r\n\r\nexport function checksAnotherArrForWatched(\r\n  userElement,\r\n  oneCardObj,\r\n  localUsers,\r\n) {\r\n  if (userElement.lib.queue.results.length === 0) {\r\n    userElement.lib.watched.results.push(oneCardObj);\r\n\r\n    btnAddDicabledWatched();\r\n    addNowWatched();\r\n\r\n    localStorage.setItem('users', JSON.stringify(localUsers));\r\n  }\r\n\r\n  const elemenOfArr = userElement.lib.queue.results.find(el => {\r\n    if (el.id === oneCardObj.id) {\r\n      const btnW = document.querySelector('.add_queue');\r\n\r\n      btnW.removeAttribute('disabled');\r\n      btnW.textContent = ' Add to Queue';\r\n\r\n      return el;\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n\r\n  //* get idx of element\r\n  const idx = userElement.lib.queue.results.indexOf(elemenOfArr);\r\n\r\n  if (idx === -1) {\r\n  } else {\r\n    //* delete element\r\n    userElement.lib.queue.results.splice(idx, 1);\r\n  }\r\n}\r\n\r\nexport function checksAnotherArrForQueue(userElement, oneCardObj, localUsers) {\r\n  if (userElement.lib.watched.results.length === 0) {\r\n    userElement.lib.queue.results.push(oneCardObj);\r\n\r\n    btnAddDicabledQueue();\r\n    addNowQueue();\r\n\r\n    localStorage.setItem('users', JSON.stringify(localUsers));\r\n\r\n    notification['success']('You added a movie to Queue', 'Great');\r\n  }\r\n\r\n  const elemenOfArr = userElement.lib.watched.results.find(el => {\r\n    if (el.id === oneCardObj.id) {\r\n      const btnQ = document.querySelector('.add_watched');\r\n\r\n      btnQ.removeAttribute('disabled');\r\n      btnQ.textContent = ' Add to Watched';\r\n\r\n      return el;\r\n    } else {\r\n      return false;\r\n    }\r\n  });\r\n\r\n  //* get idx of element\r\n  const idx = userElement.lib.watched.results.indexOf(elemenOfArr);\r\n\r\n  if (idx === -1) {\r\n  } else {\r\n    //* delete element\r\n    userElement.lib.watched.results.splice(idx, 1);\r\n  }\r\n}\r\n","import refs from './refs';\r\nimport cardFetch from './oneCardFetch';\r\nimport onefilmCard from '../templates/onefilmCard.hbs';\r\nimport allLocalData from './allLocalData';\r\nimport clearPage from './clearPage';\r\nimport removeFilm from './removeFilm';\r\nimport notification from 'toastr';\r\nimport refsButton from './refs-buttons';\r\nimport { addToWatched, addToQueue } from './functionsAddedToLib';\r\nimport { btnAddDicabledWatched, btnAddDicabledQueue } from './btnAddDicabled';\r\nimport refsButtons from './refs-buttons';\r\n\r\nexport let oneCardObj = {};\r\n\r\nfunction addToLocal() {\r\n  const allData = allLocalData();\r\n\r\n  if (allData.whoOnline === 'no one is online') {\r\n    notification['info']('You are not registred', 'Info');\r\n  } else {\r\n    addToWatched(allData.whoOnline, allData.localUsers);\r\n    addToQueue(allData.whoOnline, allData.localUsers);\r\n  }\r\n}\r\n\r\nrefs.listFilms.addEventListener('click', openOneFilm);\r\n\r\nfunction openOneFilm(event) {\r\n  removeFilm(event);\r\n\r\n  if (event.target.nodeName === 'IMG' || event.target.nodeName === 'H3') {\r\n    if (event.target.dataset.id !== undefined) {\r\n      cardFetch(event.target.dataset.id).then(obj => {\r\n        // get object\r\n        oneCardObj = obj;\r\n\r\n        //!\r\n        refs.backBtn.classList.remove('not-visible');\r\n        //!\r\n        refsButtons.linkHome.classList.remove('active-menu');\r\n\r\n        if (obj.poster_path === null) {\r\n          obj.poster_path =\r\n            'https://www.indulgemassager.com/assets/frontend/indulge/images/no-profile-pic.jpg';\r\n        } else {\r\n          obj.poster_path = `https://image.tmdb.org/t/p/w500${obj.poster_path}`;\r\n        }\r\n\r\n        if (obj.genres.length === 0) {\r\n          obj.genres = [{ name: 'no genres' }];\r\n        }\r\n        clearPage();\r\n\r\n        refsButton.homeBg.classList.remove('section-top-lib');\r\n        refsButton.homeBg.classList.remove('section-top');\r\n        refsButton.homeBg.classList.add('section-top-details');\r\n\r\n        refs.pagination.classList.add('not-visible');\r\n        refs.listFilms.insertAdjacentHTML('beforeend', onefilmCard(obj));\r\n\r\n        btnAddDicabledWatched();\r\n        btnAddDicabledQueue();\r\n\r\n        document\r\n          .querySelector('.buttons__block')\r\n          .addEventListener('click', addToLocal);\r\n      });\r\n    }\r\n  }\r\n}\r\n","import refsButtons from './refs-buttons';\r\nimport refs from './refs';\r\nimport clearPage from './clearPage';\r\nimport { startFetch } from './startFetch';\r\nimport renderWithTimeout from './renderWithTimeout';\r\nimport getLocal from './getLocal';\r\nimport visibilityCloseBtnAndPag from './visibilityCloseBtnAndPag';\r\n\r\nfunction openMyLibrary() {\r\n  refsButtons.searchBox.classList.add('visually-hidden');\r\n  refsButtons.error.classList.remove('error-visible');\r\n  refsButtons.myWatched.classList.remove('visually-hidden');\r\n  refsButtons.myQueue.classList.remove('visually-hidden');\r\n  refsButtons.myWatched.classList.add('active');\r\n  refsButtons.myQueue.classList.remove('active');\r\n  refsButtons.homeBg.classList.add('section-top-lib');\r\n  refsButtons.linkHome.classList.remove('active-menu');\r\n  refsButtons.linkLib.classList.add('active-menu');\r\n  refs.backBtn.classList.add('not-visible');\r\n\r\n  // clear for UL and hidden pagination on click on my library\r\n  document.querySelector('#pagination').classList.add('not-visible');\r\n  clearPage();\r\n\r\n  //! loading Watched default on click My-Library\r\n  ClickW();\r\n}\r\n\r\n//! get User element\r\nfunction getObjOnlineUser() {\r\n  const arrData = getLocal('users');\r\n  const whoOnline = localStorage.getItem('isOnline');\r\n\r\n  const dataUser = arrData.find(el => {\r\n    if (el.userName === whoOnline) {\r\n      return el;\r\n    }\r\n  });\r\n\r\n  return dataUser;\r\n}\r\n\r\n//! render Watched\r\nfunction ClickW() {\r\n  clearPage();\r\n  refsButtons.homeBg.classList.add('section-top-lib');\r\n  refsButtons.homeBg.classList.add('section-top');\r\n  refsButtons.homeBg.classList.remove('section-top-details');\r\n  refs.backBtn.classList.add('not-visible');\r\n\r\n  const dataUser = getObjOnlineUser();\r\n  renderWithTimeout(dataUser.lib.watched);\r\n  visibilityCloseBtnAndPag();\r\n}\r\n\r\n//! render Queue\r\nfunction ClickQ() {\r\n  clearPage();\r\n  refsButtons.homeBg.classList.add('section-top-lib');\r\n  refsButtons.homeBg.classList.add('section-top');\r\n  refsButtons.homeBg.classList.remove('section-top-details');\r\n  refs.backBtn.classList.add('not-visible');\r\n\r\n  const dataUser = getObjOnlineUser();\r\n  renderWithTimeout(dataUser.lib.queue);\r\n  visibilityCloseBtnAndPag();\r\n}\r\n\r\nfunction closeMyLibrary(e) {\r\n  refsButtons.homeBg.classList.remove('section-top-details');\r\n  refsButtons.sectionBg.classList.add('section-top');\r\n  refsButtons.searchBox.classList.remove('visually-hidden');\r\n  refsButtons.myWatched.classList.add('visually-hidden');\r\n  refsButtons.myQueue.classList.add('visually-hidden');\r\n  refsButtons.homeBg.classList.remove('section-top-lib');\r\n  refsButtons.myWatched.classList.remove('active');\r\n  refsButtons.myQueue.classList.remove('active');\r\n  refsButtons.linkLib.classList.remove('active-menu');\r\n  refsButtons.linkHome.classList.add('active-menu');\r\n  refs.backBtn.classList.add('not-visible');\r\n\r\n  //! render on click btn HOME\r\n  startFetch().then(data => {\r\n    clearPage();\r\n    renderWithTimeout(data);\r\n\r\n    document.querySelector('#pagination').classList.remove('not-visible');\r\n  });\r\n}\r\n\r\nfunction openWatched() {\r\n  refsButtons.myWatched.classList.add('active');\r\n  refsButtons.myQueue.classList.remove('active');\r\n\r\n  ClickW();\r\n}\r\n\r\nfunction openQueue() {\r\n  refsButtons.myWatched.classList.remove('active');\r\n  refsButtons.myQueue.classList.add('active');\r\n\r\n  ClickQ();\r\n}\r\n\r\nexport default { openMyLibrary, closeMyLibrary, openWatched, openQueue };\r\n","import allLocalData from './allLocalData';\r\n\r\nexport default function removeFilm(event) {\r\n  const allLocal = allLocalData();\r\n\r\n  if (event.target.classList.contains('close-btn')) {\r\n    const elUser = allLocal.localUsers.find(el => {\r\n      if (el.userName === allLocal.whoOnline) {\r\n        return el;\r\n      }\r\n    });\r\n\r\n    const xId = event.target.dataset.id;\r\n\r\n    const deleteElWatched = elUser.lib.watched.results.find(el => {\r\n      if (String(el.id) === xId) {\r\n        return el;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    const deleteElQueue = elUser.lib.queue.results.find(el => {\r\n      if (String(el.id) === xId) {\r\n        return el;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n\r\n    if (deleteElWatched) {\r\n      const idx = elUser.lib.watched.results.indexOf(deleteElWatched);\r\n\r\n      elUser.lib.watched.results.splice(idx, 1);\r\n    } else if (deleteElQueue) {\r\n      const idx = elUser.lib.queue.results.indexOf(deleteElQueue);\r\n\r\n      elUser.lib.queue.results.splice(idx, 1);\r\n    }\r\n\r\n    event.target.parentElement.classList.add('not-visible');\r\n\r\n    localStorage.setItem('users', JSON.stringify(allLocal.localUsers));\r\n  }\r\n}\r\n","import axios from 'axios';\r\nconst api_key = 'cc24e28d216ef164940b9fd9893ff62a';\r\nconst baseUrl = `https://api.themoviedb.org/3/movie`;\r\n\r\nexport default function cardFetch(id) {\r\n  return axios(`${baseUrl}/${id}?api_key=${api_key}`)\r\n    .then(data => {\r\n      return data.data;\r\n    })\r\n    .catch(error => {\r\n      throw error;\r\n    });\r\n}\r\n","import refs from './refs-buttons.js';\r\nimport buttonFn from './top-button-functions.js';\r\n\r\nrefs.myLibrary.addEventListener('click', buttonFn.openMyLibrary);\r\nrefs.home.addEventListener('click', buttonFn.closeMyLibrary);\r\n\r\nrefs.myWatched.addEventListener('click', buttonFn.openWatched);\r\nrefs.myQueue.addEventListener('click', buttonFn.openQueue);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"film-card\\\">\\r\\n\\r\\n  <div class=\\\"close-btn not-visible\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":46},\"end\":{\"line\":4,\"column\":52}}}) : helper)))\n    + \"\\\">\\r\\n    <span class=\\\"visually-hidden\\\">close-button</span>\\r\\n  </div>\\r\\n\\r\\n  <img class=\\\"film-cover\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":31},\"end\":{\"line\":8,\"column\":46}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":53},\"end\":{\"line\":8,\"column\":71}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":82},\"end\":{\"line\":8,\"column\":88}}}) : helper)))\n    + \"\\\" />\\r\\n  <div class=\\\"film-info-wrapper\\\">\\r\\n    <h3 class=\\\"film-name\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":35},\"end\":{\"line\":10,\"column\":41}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"original_title\") || (depth0 != null ? lookupProperty(depth0,\"original_title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"original_title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":43},\"end\":{\"line\":10,\"column\":61}}}) : helper)))\n    + \" </h3>\\r\\n    <div class=\\\"film-info-inner\\\">\\r\\n      <p class=\\\"film-info\\\">\\r\\n        <span class=\\\"film-genre\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"genre_ids\") || (depth0 != null ? lookupProperty(depth0,\"genre_ids\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"genre_ids\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":33},\"end\":{\"line\":13,\"column\":46}}}) : helper)))\n    + \"</span>\\r\\n        |\\r\\n        <span class=\\\"film-year\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"release_date\") || (depth0 != null ? lookupProperty(depth0,\"release_date\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"release_date\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":32},\"end\":{\"line\":15,\"column\":48}}}) : helper)))\n    + \"</span>\\r\\n      </p>\\r\\n      <span class=\\\"film-rating\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"vote_average\") || (depth0 != null ? lookupProperty(depth0,\"vote_average\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"vote_average\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":32},\"end\":{\"line\":17,\"column\":48}}}) : helper)))\n    + \"</span>\\r\\n    </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":21,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}